<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" lang="en">
<head th:replace="header.thyme::head(${'Testimonials about' + content.userName}, (${content.ogDesc} ?: ${content.intro}))"></head>
<body onload="prettyPrint()">

<script>
    // region: replace broken images
    function replaceImgOnErr(imgEl, originalImgDataAttr, newImgDataAttr) {
        if (imgEl == null) {
            return;
        }
        const authorImg = imgEl.getAttribute(originalImgDataAttr);
        const authorAlternativeImg = imgEl.getAttribute(newImgDataAttr);
        if (authorImg === null || authorImg === "" || authorAlternativeImg === null || authorAlternativeImg === "") {
            return;
        }

        imgEl.onerror = null;
        imgEl.src = authorAlternativeImg;
    }
    // endregion: replace broken images
</script>

<div id="wrap" class="content-justify">
    <div th:replace="menu.thyme::menu"></div>

    <section class="vh-90">

        <div class="container mt-5 pt-5 h-90">
            <div class="row d-flex justify-content-center">
                <div class="col-md-10 col-xl-8 text-center mb-5">
                    <h3 class="mb-4">Testimonials</h3>
                    <p class="mb-4 pb-2 mb-md-3 pb-md-0 text-body-secondary content-not-justify"
                       th:text='|"${content.intro}"|'></p>
                    <p class="font-italic font-weight-normal mb-0 content-not-justify"
                       th:text="'- ' + ${content.userName}"></p>
                </div>
            </div>

            <div class="row text-center">
                <div class="col-md-6 mb-5 justify-content-center"
                     th:each="t : ${content.testimonialsContent.testimonials}">
                    <div class="d-flex mb-4 justify-content-center">
                        <img th:src="${t.authorImg} ?: ('/testimonials/img/' + ${t.authorAlternativeImg})"
                             th:alt="${t.authorImgAlt} ?: ('Image of ' + ${t.authorName})"
                             class="rounded-circle shadow-1-strong" width="100" height="100"
                             th:data-author-alternative-img="'/testimonials/img/' + ${t.authorAlternativeImg}"
                             th:data-author-img="${t.authorAlternativeImg}"
                             onerror="replaceImgOnErr(this, 'data-author-img', 'data-author-alternative-img')"/>
                    </div>
                    <p class="lead my-3 text-body-secondary content-not-justify" th:text='|"${t.value}"|'></p>
                    <p class="font-italic font-weight-normal mb-0 content-not-justify">
                        <span th:text="'- ' + ${t.authorName}"></span>
                        <span th:if="${content.userLinkedinHandle != null
                                       && t.fromPlatform != null
                                       && #strings.equals(t.fromPlatform, 'LinkedIn')}">,
                            <a th:href="'https://www.linkedin.com/in/' + ${content.userLinkedinHandle} + '/details/recommendations/'"
                               target="_blank">
                                LinkedIn
                            </a>
                        </span>
                    </p>
                </div>
            </div>
        </div>

    </section>

</div>

<div th:replace="footer.thyme::footer"></div>

<script th:with="rootpath=(${content.rootpath != null} ? ${content.rootpath} : '')"
        th:src="${rootpath} + 'js/base.js'"></script>

</body>
</html>
